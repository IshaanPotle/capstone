<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta name="description" content="">
        <meta name="author" content="">

        <title>Topic Listing Page</title>

        <!-- CSS FILES -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Open+Sans&display=swap" rel="stylesheet">

        <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap-icons.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/templatemo-topic-listing.css') }}">

        <style>
            .card {           
                top: 10%; 
                border-radius: 10px; /* Add rounded corners */
                border: none; /* Remove border */
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Add a subtle shadow */
                transition: box-shadow 0.3s ease; /* Add transition for hover effect */
                height: 200px; /* Set a fixed height */
            }
            .card:hover {
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.2); /* Change shadow on hover */
            }
            .card-body {
                padding: 20px;
                height: 200px; /* Add padding inside the card body */
            }
            .card-title {
                font-size: 20px; /* Increase font size */
                margin-top: 30px;
            }
            .btn-primary {
                width: 100%; /* Make button full width */
                margin-top: 20px;
            }
        </style>
    </head>

    {% include 'navbar.html'%}

        <main>
            <section class="hero-section d-flex justify-content-center align-items-center" id="section_1">
                <div class="container">
                    <div class="row align-items-center">

                        <div class="col-lg-5 col-12">
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="/">Homepage</a></li>

                                    <li class="breadcrumb-item active" aria-current="page">MCQ's</li>
                                </ol>
                            </nav>

                            <h2 class="text-white">Test your knowledge</h2>
                        </div>

                    </div>
                </div>
            </section>        
            
<<<<<<< HEAD
 <center><h2>Subject Names</h2></center>
    <ul>                     
        {% for subject in subjects %}
        <div class="col">
            <div class="card" style="margin-right: 20px;">
                <div class="card-body">
                    <h5 class="card-title">{{ subject.Subject }}</h5>
                    <p style="font-size: 15px;">User Levels: {{ user_levels }}</p>  <!-- Debug print -->
                    <p style="font-size: 15px;">Your Level: 
                        {% if user_levels.get(subject.Subject) %}
                            {{ user_levels[subject.Subject] }}
                        {% else %}
                            1
                        {% endif %}
                    </p>
                </div>
                
                <div style ="margin-left: 15px;margin-right: 15px;">
                    <!-- Progress Bar Display -->
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: 70%;"></div>
                        <div class="progress-text">70%</div>
                    </div>
                    <!-- End Progress Bar Display -->                  
                
                    <!-- Take MCQ Button -->
                    <div style="display: flex;">
                        <!-- Take MCQ Button -->
                        <form id="mcqForm" action="/takemcq" method="POST" style="margin-right: 10px;">
                            <input type="hidden" name="subject" value="{{ subject.Subject }}">
                            <button type="button" id="startMCQBtn" class="btn btn-primary">Take MCQ</button>
                        </form>
                    
                        <!-- View Chapters Button -->
                        <form action="/chapters" method="POST" style="margin-bottom: 10px;">
                            <input type="hidden" name="Chapter" value="{{ subject.Subject }}">
                            <button type="submit" class="btn btn-primary">View Chapters</button>
                        </form>
                    </div>
                    <!-- End View Chapters Button -->
                </div>
                </div>
            </div>
            <br>
        </div>
        {% endfor %}

            
            <div id="rulesPopup" class="modal" tabindex="-1" role="dialog">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title"  style="text-align: center; width: 100%;">Rules and Regulations</h5>                            
                            </button>
                        </div>
                        <div class="modal-body">
                            <ul>
                                <li style="font-size: 16px; ">Make sure that you write your name and student ID correctly. Otherwise, the system can't record your grades.</li>
                                <li style="font-size: 16px; ">The given time for this quiz is 10 minutes. After that, the form will be closed for you.</li>
                                <li style="font-size: 16px; ">Students who will not submit their answers in time will receive 0.</li>
                                <li style="font-size: 16px; ">You can only submit your answers once. If you wish to pause the quiz, please use the Save and Continue Later button.</li>
                                <li style="font-size: 16px; ">Each question has its own grading points. After you submit your answers, we will evaluate them and let you know your grades later.</li>
                                <li style="font-size: 16px; ">If you have any technical problem during the quiz, please take a screenshot or screen recording and send it to us.</li>
                            </ul>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" id="cancelBtn">Cancel</button>
                            <button type="button" id="startQuizBtn" class="btn btn-primary">Start</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <script>
            document.getElementById('startMCQBtn').addEventListener('click', function() {
                    $('#rulesPopup').modal('show');
                });

                document.getElementById('startQuizBtn').addEventListener('click', function() {
                    $('#mcqForm').submit();
                });

                document.getElementById('cancelBtn').addEventListener('click', function() {
                    $('#rulesPopup').modal('hide');
                });

                $('#rulesPopup').on('hide.bs.modal', function (e) {
                    $('#startMCQBtn').blur(); 
                });
                  </script>
            
    </ul>



=======
            <div class="col-lg-8 col-12 mt-3 mx-auto">
                <div class="rules-container">
                    <h4>Rules and Regulations</h4>
                    <ul>
                        <li style="font-size: 16px; font-style: italic;">Make sure that you write your name and student ID correctly. Otherwise, the system can't record your grades.</li>
                        <li style="font-size: 16px; font-style: italic;">The given time for this quiz is 10 minutes. After that, the form will be closed for you.</li>
                        <li style="font-size: 16px; font-style: italic;">Students who will not submit their answers in time will receive 0.</li>
                        <li style="font-size: 16px; font-style: italic;">You can only submit your answers once. If you wish to pause the quiz, please use the Save and Continue Later button.</li>
                        <li style="font-size: 16px; font-style: italic;">Each question has its own grading points. After you submit your answers, we will evaluate them and let you know your grades later.</li>
                        <li style="font-size: 16px; font-style: italic;">If you have any technical problem during the quiz, please take a screenshot or screen recording and send it to us.</li>
                    </ul>
                </div>              

                
                                    <div class="container">
                                        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                                            {% set unique_subjects = [] %}
                                            {% for subject in subjects %}
                                                {% if subject.Subject not in unique_subjects %}
                                                    {% set _ = unique_subjects.append(subject.Subject) %}
                                                    <div class="col">
                                                        <div class="card">
                                                            <div class="card-body">
                                                                <h5 class="card-title text-center">{{ subject.Subject }}</h5>
                                                                <form action="/takemcq" method="POST">
                                                                    <input type="hidden" name="subject" value="{{ subject.Subject }}">
                                                                    <button type="submit" class="btn btn-primary" style="background-color: #80d0c7;">Take {{ subject.Subject }} Quiz</button>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                {% endif %}
                                            {% endfor %}
                                        </div>
                                    </div>
                                
//   function defineLevel() {
//         
        
//         fetch('/define_level', {
//             method: 'POST',
//             headers: {
//                 'Content-Type': 'application/json'
//             },
//             body: JSON.stringify({
//                 'mcq_score': mcqScore
//             })
//         })
//         .then(response => response.json())
//         .then(data => {
//             document.getElementById('userLevel').innerHTML = 'User Level: ' + data.level;
//         })
//         .catch(error => console.error('Error:', error));
//     }

//     // Call the function
//     defineLevel();


                            <!-- <div class="custom-block custom-block-topics-listing bg-white shadow-lg mb-5">
                                <div class="d-flex">
                                    <img src="images/topics/undraw_Remote_design_team_re_urdx.png" class="custom-block-image img-fluid" alt="">

                                    <div class="custom-block-topics-listing-info d-flex">
                                        <div>
                                            <h5 class="mb-2">Web Design</h5>

                                            <p class="mb-0">Topic Listing includes home, listing, detail and contact pages. Feel free to modify this template for your custom websites.</p>

                                            <a href="topics-detail.html" class="btn custom-btn mt-3 mt-lg-4">Learn More</a>
                                        </div>

                                        <span class="badge bg-design rounded-pill ms-auto">14</span>
                                    </div>
                                </div>
                            </div>

                            <div class="custom-block custom-block-topics-listing bg-white shadow-lg mb-5">
                                <div class="d-flex">
                                    <img src="images/topics/undraw_online_ad_re_ol62.png" class="custom-block-image img-fluid" alt="">

                                    <div class="custom-block-topics-listing-info d-flex">
                                        <div>
                                            <h5 class="mb-2">Advertising</h5>

                                            <p class="mb-0">Visit TemplateMo website to download free CSS templates. Lorem ipsum dolor, sit amet consectetur adipisicing elit animi necessitatibus</p>

                                            <a href="topics-detail.html" class="btn custom-btn mt-3 mt-lg-4">Learn More</a>
                                        </div>

                                        <span class="badge bg-advertising rounded-pill ms-auto">30</span>
                                    </div>
                                </div>
                            </div>

                            <div class="custom-block custom-block-topics-listing bg-white shadow-lg mb-5">
                                <div class="d-flex">
                                    <img src="images/topics/undraw_Podcast_audience_re_4i5q.png" class="custom-block-image img-fluid" alt="">

                                    <div class="custom-block-topics-listing-info d-flex">
                                        <div>
                                            <h5 class="mb-2">Podcast</h5>

                                            <p class="mb-0">Lorem ipsum dolor, sit amet consectetur adipisicing elit animi necessitatibus</p>

                                            <a href="topics-detail.html" class="btn custom-btn mt-3 mt-lg-4">Learn More</a>
                                        </div>

                                        <span class="badge bg-music rounded-pill ms-auto">20</span>
                                    </div>
                                </div>
                            </div>
                        </div> -->
        </main>

		<footer class="site-footer section-padding">
            <div class="container">
                <div class="row">

                    <div class="col-lg-3 col-12 mb-4 pb-2">
                        <a class="navbar-brand mb-2" href="index.html">
                            <i class="bi-back"></i>
                            <span>Topic</span>
                        </a>
                    </div>

                    <div class="col-lg-3 col-md-4 col-6">
                        <h6 class="site-footer-title mb-3">Resources</h6>

                        <ul class="site-footer-links">
                            <li class="site-footer-link-item">
                                <a href="#" class="site-footer-link">Home</a>
                            </li>

                            <li class="site-footer-link-item">
                                <a href="#" class="site-footer-link">How it works</a>
                            </li>

                            <li class="site-footer-link-item">
                                <a href="#" class="site-footer-link">FAQs</a>
                            </li>

                            <li class="site-footer-link-item">
                                <a href="#" class="site-footer-link">Contact</a>
                            </li>
                        </ul>
                    </div>

                    <div class="col-lg-3 col-md-4 col-6 mb-4 mb-lg-0">
                        <h6 class="site-footer-title mb-3">Information</h6>

                        <p class="text-white d-flex mb-1">
                            <a href="tel: 305-240-9671" class="site-footer-link">
                                305-240-9671
                            </a>
                        </p>

                        <p class="text-white d-flex">
                            <a href="mailto:info@company.com" class="site-footer-link">
                                info@company.com
                            </a>
                        </p>
                    </div>

                    <div class="col-lg-3 col-md-4 col-12 mt-4 mt-lg-0 ms-auto">
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                            English</button>

                            <ul class="dropdown-menu">
                                <li><button class="dropdown-item" type="button">Thai</button></li>

                                <li><button class="dropdown-item" type="button">Myanmar</button></li>

                                <li><button class="dropdown-item" type="button">Arabic</button></li>
                            </ul>
                        </div>

                        <p class="copyright-text mt-lg-5 mt-4">Copyright Â© 2048 Topic Listing Center. All rights reserved.
                        <br><br>Design: <a rel="nofollow" href="https://templatemo.com" target="_blank">TemplateMo</a> Distribution <a href="https://themewagon.com">ThemeWagon</a></p>

                    </div>

                </div>
            </div>
        </footer>
>>>>>>> 3719a197668d046e64373300989a09c71db4ae0c

        <!-- JAVASCRIPT FILES -->
        <script src="js/jquery.min.js"></script>
        <script src="js/bootstrap.bundle.min.js"></script>
        <script src="js/jquery.sticky.js"></script>
        <script src="js/custom.js"></script>

    </body>
</html>


<style>
.btn-primary {
    background-color: #13547A;
    border-color: #13547A;  
    color: #ffffff; /* Text color when not hovering */
}

.btn-primary:hover {
    background-color: #80d0c7;
    border-color: #80d0c7;
    color: #ffffff; /* Text color when hovering */
    cursor: pointer;
}

  /* Progress bar container */
  .progress-bar-container {
    width: 100%;
    background-color: #f0f0f0;
    border-radius: 4px;
    overflow: hidden;
    height: 20px;
    margin-bottom: 10px; /* Added margin-bottom for spacing */
  }

  /* Progress bar */
  .progress-bar-container {
    width: 100%;
    background-color: #f0f0f0;
    border-radius: 8px;
    overflow: hidden;
    height: 20px;
    margin-bottom: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    position: relative;
  }


  /* Progress bar */
  .progress-bar {
    height: 100%;
    background: linear-gradient(to right, #FFC107, #FF9800, #FF5722, #E91E63, #9C27B0, #673AB7, #3F51B5); /* New set of gradient colors */
    transition: width 0.5s ease-in-out;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 1; /* Ensure the progress bar is above the text */
    border-radius: 8px;
  }

  /* Text for progress percentage */
  .progress-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #fff;
    font-size: 14px;
    font-weight: bold;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    z-index: 2;
  }
</style>